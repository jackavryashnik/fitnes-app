{"version":3,"file":"exercisesFilter-c42bcc1f.js","sources":["../../src/scripts/api.js","../../src/scripts/exercisesFilter.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n\nexport async function fetchData(filter, params = {}) {\n  try {\n    const response = await axios.get(`/filters?filter=${filter}`, {\n      params,\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { fetchData } from './api';\n\nconst exercisesList = document.querySelector('.exercises-list'),\n  buttonsFilterContainer = document.querySelector('.buttons-filter-container'),\n  filterButtons = document.querySelectorAll('.buttons-filter-container button'),\n  exercisesPaginationBox = document.querySelector('.pagination-exercises-box'),\n  exercisesPageContainer = document.querySelector('.exercises-page-container');\n\nlet limit = innerWidth < 768 ? 8 : 12;\nlet currentPage = 1;\nlet filter = 'Muscles';\n\nbuttonsFilterContainer.addEventListener('click', filterData);\n\nwindow.addEventListener('load', loadInitialData);\n\nasync function loadInitialData() {\n  try {\n    const data = await fetchData(filter, { limit, page: currentPage });\n    handlePagination(data.totalPages);\n    createMarkup(data.results);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function filterData(e) {\n  const newFilter = e.target.dataset.filter;\n  if (!newFilter) return;\n\n  filter = newFilter;\n\n  toggleButtonsState(filterButtons, e.target);\n\n  try {\n    const data = await fetchData(filter, { limit, page: currentPage });\n    handlePagination(data.totalPages);\n    createMarkup(data.results);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction createMarkup(data) {\n  const markup = data.reduce(\n    (html, { name, filter, imgUrl }) =>\n      html +\n      `\n  <li class=\"exercises-list-card\" style=\"background: linear-gradient(0deg, rgba(16, 16, 16, 0.70) 0%, rgba(16, 16, 16, 0.70) 100%), url(${imgUrl});\nbackground-size: cover;\nbackground-repeat: no-repeat;\">\n    <div class=\"exercise-card-desc\">\n      <h2 class=\"exercise-card-desc-name\">${name}</h2>\n      <p class=\"exercise-card-desc-filter\">${filter}</p>\n    </div>\n  </li>\n  `,\n    ''\n  );\n  renderImages(markup);\n}\n\nfunction renderImages(markup) {\n  exercisesList.innerHTML = markup;\n}\n\nfunction toggleButtonsState(buttons, activeButton) {\n  buttons.forEach(btn => btn.classList.remove('active'));\n  activeButton.classList.add('active');\n}\n\nfunction handlePagination(totalPages) {\n  exercisesPaginationBox.innerHTML = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const button = document.createElement('button');\n    button.textContent = i;\n    if (i === 1) {\n      button.classList.add('active');\n    }\n    button.addEventListener('click', e => {\n      const pageNumberButtons =\n        exercisesPaginationBox.querySelectorAll('button');\n      toggleButtonsState(pageNumberButtons, e.target);\n      goToPage(i);\n    });\n    exercisesPaginationBox.appendChild(button);\n  }\n}\n\nasync function goToPage(page) {\n  try {\n    exercisesPageContainer.scrollIntoView({ behavior: 'smooth' });\n    const data = await fetchData(filter, { limit, page });\n    createMarkup(data.results);\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["axios","fetchData","filter","params","error","exercisesList","buttonsFilterContainer","filterButtons","exercisesPaginationBox","exercisesPageContainer","limit","currentPage","filterData","loadInitialData","data","handlePagination","createMarkup","e","newFilter","toggleButtonsState","markup","html","name","imgUrl","renderImages","buttons","activeButton","btn","totalPages","i","button","pageNumberButtons","goToPage","page"],"mappings":"+uBAEAA,EAAM,SAAS,QAAU,sCAElB,eAAeC,EAAUC,EAAQC,EAAS,GAAI,CACnD,GAAI,CAIF,OAHiB,MAAMH,EAAM,IAAI,mBAAmBE,IAAU,CAC5D,OAAAC,CACN,CAAK,GACe,IACjB,OAAQC,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,CACH,CCXA,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EAC5DC,EAAyB,SAAS,cAAc,2BAA2B,EAC3EC,EAAgB,SAAS,iBAAiB,kCAAkC,EAC5EC,EAAyB,SAAS,cAAc,2BAA2B,EAC3EC,EAAyB,SAAS,cAAc,2BAA2B,EAE7E,IAAIC,EAAQ,WAAa,IAAM,EAAI,GAC/BC,EAAc,EACdT,EAAS,UAEbI,EAAuB,iBAAiB,QAASM,CAAU,EAE3D,OAAO,iBAAiB,OAAQC,CAAe,EAE/C,eAAeA,GAAkB,CAC/B,GAAI,CACF,MAAMC,EAAO,MAAMb,EAAUC,EAAQ,CAAE,MAAAQ,EAAO,KAAMC,CAAW,CAAE,EACjEI,EAAiBD,EAAK,UAAU,EAChCE,EAAaF,EAAK,OAAO,CAC1B,OAAQV,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,CACH,CAEA,eAAeQ,EAAWK,EAAG,CAC3B,MAAMC,EAAYD,EAAE,OAAO,QAAQ,OACnC,GAAKC,EAEL,CAAAhB,EAASgB,EAETC,EAAmBZ,EAAeU,EAAE,MAAM,EAE1C,GAAI,CACF,MAAMH,EAAO,MAAMb,EAAUC,EAAQ,CAAE,MAAAQ,EAAO,KAAMC,CAAW,CAAE,EACjEI,EAAiBD,EAAK,UAAU,EAChCE,EAAaF,EAAK,OAAO,CAC1B,OAAQV,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,EACH,CAEA,SAASY,EAAaF,EAAM,CAC1B,MAAMM,EAASN,EAAK,OAClB,CAACO,EAAM,CAAE,KAAAC,EAAM,OAAApB,EAAQ,OAAAqB,CAAQ,IAC7BF,EACA;AAAA,0IACoIE;AAAA;AAAA;AAAA;AAAA,4CAI9FD;AAAA,6CACCpB;AAAA;AAAA;AAAA,IAIzC,EACJ,EACEsB,EAAaJ,CAAM,CACrB,CAEA,SAASI,EAAaJ,EAAQ,CAC5Bf,EAAc,UAAYe,CAC5B,CAEA,SAASD,EAAmBM,EAASC,EAAc,CACjDD,EAAQ,QAAQE,GAAOA,EAAI,UAAU,OAAO,QAAQ,CAAC,EACrDD,EAAa,UAAU,IAAI,QAAQ,CACrC,CAEA,SAASX,EAAiBa,EAAY,CACpCpB,EAAuB,UAAY,GAEnC,QAASqB,EAAI,EAAGA,GAAKD,EAAYC,IAAK,CACpC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,YAAcD,EACjBA,IAAM,GACRC,EAAO,UAAU,IAAI,QAAQ,EAE/BA,EAAO,iBAAiB,QAASb,GAAK,CACpC,MAAMc,EACJvB,EAAuB,iBAAiB,QAAQ,EAClDW,EAAmBY,EAAmBd,EAAE,MAAM,EAC9Ce,EAASH,CAAC,CAChB,CAAK,EACDrB,EAAuB,YAAYsB,CAAM,CAC1C,CACH,CAEA,eAAeE,EAASC,EAAM,CAC5B,GAAI,CACFxB,EAAuB,eAAe,CAAE,SAAU,QAAU,CAAA,EAC5D,MAAMK,EAAO,MAAMb,EAAUC,EAAQ,CAAE,MAAAQ,EAAO,KAAAuB,CAAI,CAAE,EACpDjB,EAAaF,EAAK,OAAO,CAC1B,OAAQV,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,CACH"}